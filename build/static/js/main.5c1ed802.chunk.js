(this["webpackJsonpitschool-news"]=this["webpackJsonpitschool-news"]||[]).push([[0],{15:function(e,t,c){e.exports={header:"Header_header__3mObx",nav:"Header_nav__36ub7",menuIcon:"Header_menuIcon__2iHNf",dropdownMenu:"Header_dropdownMenu__2yqKV",menuIconContainer:"Header_menuIconContainer__1t-0h",displayMobileMenu:"Header_displayMobileMenu__3P_2d"}},30:function(e,t,c){e.exports={page404:"Page404_page404__2sdX7",error404:"Page404_error404__fFAXg"}},31:function(e,t,c){e.exports={newsCard:"NewsCard_newsCard__18RNu"}},32:function(e,t,c){e.exports={pagination:"Pagination_pagination__3zY_P",paginationActive:"Pagination_paginationActive__11k7O"}},33:function(e,t,c){e.exports={newsDetails:"NewsDetails_newsDetails__3Extn",alert:"NewsDetails_alert__GGT9p"}},35:function(e,t,c){e.exports={layout:"Layout_layout__3HtPY"}},51:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(14),i=c.n(s),r=c(8),o=c(4),l=c(3),j=c(30),d=c.n(j),b=c(9),u=c(1);var h=function(){return Object(u.jsx)("div",{className:"".concat(d.a.page404," bg-primary text-white d-flex flex-column justify-content-center align-items-center"),children:Object(u.jsxs)(b.a,{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsx)("p",{className:"h4 text-center",children:"Avem o \u0219tire nu tocmai grozav\u0103... pagina pe care ai \xeencercat s\u0103 o accesezi nu (mai) exist\u0103."}),Object(u.jsx)("strong",{className:"".concat(d.a.error404),children:"404 :("}),Object(u.jsxs)("p",{className:"h4 text-center",children:["Hai"," ",Object(u.jsx)(r.b,{to:"/",className:"text-secondary",children:"\xeenapoi pe site"})," ","s\u0103 vezi o nou\u0103 \u0219tire!"]})]})})},x=c(15),O=c.n(x);var m=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),c=t[0],n=t[1],s=O.a.dropdownMenu;return c&&(s+=" ".concat(O.a.displayMobileMenu)),Object(u.jsx)("header",{className:O.a.header,children:Object(u.jsx)("nav",{className:"".concat(O.a.nav," bg-primary w-100"),children:Object(u.jsxs)(b.a,{className:"d-flex justify-content-between align-items-center",children:[Object(u.jsx)(r.b,{to:"/",className:"p-3",children:Object(u.jsx)("img",{src:"https://itschool.ro/images/logo-itschool-dark.svg",alt:"itschool logo"})}),Object(u.jsxs)("div",{className:O.a.menuIconContainer,children:[Object(u.jsxs)("span",{onClick:function(){n((function(e){return!e}))},className:"material-icons ".concat(O.a.menuIcon," text-light"),children:[" ","menu"," "]}),Object(u.jsxs)("ul",{className:s,children:[Object(u.jsx)("li",{className:c?"container":null,children:Object(u.jsx)(r.b,{to:"/category/technology",className:"p-3 text-uppercase text-light",children:"Tech"})}),Object(u.jsx)("li",{className:c?"container":null,children:Object(u.jsx)(r.b,{to:"/category/football",className:"p-3 text-uppercase text-light",children:"Fotbal"})}),Object(u.jsx)("li",{className:c?"container":null,children:Object(u.jsx)(r.b,{to:"/category/fashion",className:"p-3 text-uppercase text-light",children:"Fashion"})}),Object(u.jsx)("li",{className:c?"container":null,children:Object(u.jsx)(r.b,{to:"/favorites",className:"p-3 text-uppercase text-light",children:"Favorite"})})]})]})]})})})};var p=function(){return Object(u.jsx)("footer",{className:"bg-dark",children:Object(u.jsx)(b.a,{children:Object(u.jsx)("p",{className:"text-light text-center m-0 py-3",children:"IT School Rom\xe2nia \xa9 2021. Toate drepturile rezervate."})})})},f=c(35),v=c.n(f);var g=function(e){return Object(u.jsxs)("div",{className:v.a.layout,children:[Object(u.jsx)(m,{}),Object(u.jsx)("main",{children:e.children}),Object(u.jsx)(p,{})]})};function N(e){var t=Object(a.useState)(null),c=Object(o.a)(t,2),n=c[0],s=c[1];return Object(a.useEffect)((function(){fetch(e).then((function(e){return e.json()})).then((function(e){s(e)}))}),[e]),n}var y="cce4027e-faf6-4eb5-ba9b-491c9b8f3571";function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,a="?api-key=".concat(y,"&section=").concat(e,"&show-fields=all&page-size=").concat(c,"&page=").concat(t);return"https://content.guardianapis.com/search".concat(a)}var w=c(24),I=c(25),C=c(18),S=c(22),T=c(31),F=c.n(T);var M=Object(a.createContext)();var D=function(e){var t=Object(a.useContext)(M).favoritesDispatch,c=e.newsId,n=e.imgSrc,s=e.title,i=e.description,o=e.hasCloseButton;return Object(u.jsxs)(C.a,{className:"".concat(F.a.newsCard," h-100 d-flex flex-column justify-content-between align-items-center"),children:[Object(u.jsxs)(r.b,{to:"/news/".concat(encodeURIComponent(c)),children:[Object(u.jsx)(C.a.Img,{variant:"top",src:n}),Object(u.jsxs)(C.a.Body,{children:[Object(u.jsx)(C.a.Title,{children:s}),Object(u.jsx)(C.a.Text,{children:i})]})]}),o&&Object(u.jsx)(S.a,{variant:"light",className:F.a.newsCardButton,onClick:function(){t({type:"REMOVE_FROM_FAVORITES",payload:c})},children:Object(u.jsx)("span",{className:"material-icons text-dark",children:"close"})})]})};var k=function(e){var t=e.newsList;return Object(u.jsx)(b.a,{children:Object(u.jsx)(w.a,{children:t.map((function(e){return Object(u.jsx)(I.a,{xs:12,md:6,lg:4,className:"mb-4",children:Object(u.jsx)(D,{newsId:e.id,imgSrc:e.thumbnail,title:e.title,description:e.description,hasCloseButton:e.hasCloseButton})},e.id)}))})})};function A(e){return e&&e.response?e.response.results.map((function(e){return{id:e.id,thumbnail:e.fields.thumbnail,title:e.fields.headline,description:e.fields.trailText}})):[]}var E=function(){var e=_("technology",1,6),t=_("football",1,6),c=_("fashion",1,6),a=N(e),n=N(t),s=N(c),i=A(a),o=A(n),l=A(s);return Object(u.jsxs)(g,{children:[Object(u.jsx)("section",{className:"tech my-5",children:Object(u.jsxs)(b.a,{children:[Object(u.jsx)("h1",{className:"mb-5 pt-3",children:"Tech"}),Object(u.jsx)(k,{newsList:i}),Object(u.jsxs)("p",{children:["Vezi toate \u0219tirile legate de tehnologie \xeen sec\u021biunea"," ",Object(u.jsx)(r.b,{to:"/category/technology",className:"text-secondary",children:"Tech"}),"."]})]})}),Object(u.jsx)("section",{className:"football my-5",children:Object(u.jsxs)(b.a,{children:[Object(u.jsx)("h1",{className:"mb-5 pt-3",children:"Fotbal"}),Object(u.jsx)(k,{newsList:o}),Object(u.jsxs)("p",{children:["Vezi toate \u0219tirile legate de tehnologie \xeen sec\u021biunea"," ",Object(u.jsx)(r.b,{to:"/category/football",className:"text-secondary",children:"Fotbal"}),"."]})]})}),Object(u.jsx)("section",{className:"fashion my-5",children:Object(u.jsxs)(b.a,{children:[Object(u.jsx)("h1",{className:"mb-5 pt-3",children:"Fashion"}),Object(u.jsx)(k,{newsList:l}),Object(u.jsxs)("p",{children:["Vezi toate \u0219tirile legate de fashion \xeen sec\u021biunea"," ",Object(u.jsx)(r.b,{to:"/category/fashion",className:"text-secondary",children:"Fashion"}),"."]})]})}),Object(u.jsx)("section",{className:"favorites my-5",children:Object(u.jsxs)(b.a,{children:[Object(u.jsx)("h1",{className:"mb-5 pt-3",children:"Favorite"}),Object(u.jsx)("p",{children:"Vrei s\u0103 \xee\u021bi salvezi \u0219tirile favorite pentru a le reciti mai \xeencolo?"}),Object(u.jsx)("p",{children:"\xcen cadrul fiec\u0103rei \u0219tiri g\u0103se\u0219ti un buton prin care po\u021bi ad\u0103uga \u0219tirea la favorite."}),Object(u.jsxs)("p",{className:"pb-3",children:["Viziteaz\u0103 sec\u021biunea"," ",Object(u.jsx)(r.b,{to:"/favorites",className:"text-secondary",children:"Favorite"})," ","pentru a vedea \u0219tirile ad\u0103ugate."]})]})})]})};function R(e,t){var c=localStorage.getItem(e),n=JSON.parse(c)||t,s=Object(a.useState)(n),i=Object(o.a)(s,2),r=i[0],l=i[1];return[r,function(t){l(t),localStorage.setItem(e,JSON.stringify(t))}]}var z=function(){var e=Object(a.useContext)(M).favoritesState,t=e.products,c=R("favorites",e),n=Object(o.a)(c,2),s=(n[0],n[1]);return Object(a.useEffect)((function(){s(e)}),[e,s]),Object(u.jsx)(g,{children:Object(u.jsxs)(b.a,{className:"my-5",children:[Object(u.jsx)("h1",{className:"mb-5 pt-3",children:"\u0218tirile tale favorite"}),0===t.length?Object(u.jsx)("p",{children:"Momentan nu ai nicio \u0219tire favorit\u0103."}):Object(u.jsx)(k,{newsList:t})]})})},V=c(34),H=c(32),P=c.n(H);var L=function(e){var t=e.active,c=e.baseUrl,a=Object(l.f)();t||(t=1);for(var n=[],s=function(e){n.push(Object(u.jsx)(V.a.Item,{active:e===Number(t),id:t?P.a.paginationActive:null,onClick:function(){a("".concat(c,"?page=").concat(e)),window.scrollTo({top:0,behavior:"smooth"})},children:e},e))},i=1;i<=5;i++)s(i);return Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsx)(V.a,{className:P.a.pagination,children:n})})};var B=function(){var e=Object(l.g)().categoryId,t=Object(r.c)(),c=Object(o.a)(t,1)[0].get("page");c||(c=1);var a=A(N(_(e,c))),n="";switch(e){case"technology":n="Tech";break;case"football":n="Fotbal";break;case"fashion":n="Fashion"}return Object(u.jsx)(g,{children:Object(u.jsxs)(b.a,{className:"my-5",children:[Object(u.jsx)("h1",{className:"mb-5 pt-3",children:n}),Object(u.jsx)(k,{newsList:a}),Object(u.jsx)(L,{active:c,baseUrl:"/category/".concat(e)})]})})},J=c(33),U=c.n(J);var Y=c(37);var G=function(){var e=Object(a.useContext)(M),t=e.favoritesDispatch,c=e.favoritesState,n=Object(l.g)().newsId,s=function(e){if(!e||!e.response)return{};var t=e.response.content;return{date:t.webPublicationDate,title:t.fields.headline,description:t.fields.trailText,image:t.fields.main,content:t.fields.body,author:t.fields.byline,thumbnail:t.fields.thumbnail}}(N(function(e){var t="?api-key=".concat(y,"&show-fields=all");return"https://content.guardianapis.com/".concat(e).concat(t)}(n=decodeURIComponent(n)))),i=Object(a.useState)(!1),r=Object(o.a)(i,2),j=r[0],d=r[1],h=R("favorites",c),x=Object(o.a)(h,2),O=(x[0],x[1]);Object(a.useEffect)((function(){O(c)}),[c,O]);var m=s.title,p=s.description,f=s.image,v=s.date,_=s.author,C=s.content,T=s.thumbnail,F=function(e){var t=new Date(e),c=t.getMonth();c+=1;var a=t.getDate(),n=t.getFullYear();return a<10&&(a="0"+a),c<10&&(c="0"+c),"".concat(a,"/").concat(c,"/").concat(n)}(v);return Object(u.jsxs)(g,{children:[j&&Object(u.jsx)(Y.a,{variant:"success",id:U.a.alert,children:"Succes! Po\u021bi vedea \u0219tirea acces\xe2nd sec\u021biunea Favorite."}),Object(u.jsx)(b.a,{className:"".concat(U.a.newsDetails," my-5"),children:Object(u.jsx)(w.a,{className:"d-flex justify-content-center",children:Object(u.jsxs)(I.a,{xs:12,lg:8,children:[Object(u.jsx)("h1",{className:"pt-3 mb-5",children:m}),Object(u.jsx)("p",{className:"fw-bold",children:p}),Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:f},className:"mb-4"}),Object(u.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[Object(u.jsxs)("div",{className:"fw-bold",children:[Object(u.jsx)("p",{children:_}),Object(u.jsx)("p",{className:"mb-0",children:F})]}),Object(u.jsx)(S.a,{onClick:function(){!function(e){var c=function(e){return{type:"ADD_TO_FAVORITES",payload:e}}(e);t(c),d(!0),setTimeout((function(){d(!1)}),2e3)}({id:n,thumbnail:T,title:m,description:p,hasCloseButton:!0})},children:"Adaug\u0103 la favorite"})]}),Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:C}})]})})})]})},X=c(38),q={products:[]};function K(e,t){switch(t.type){case"ADD_TO_FAVORITES":return e.products.find((function(e){return e.id===t.payload.id}))?e:{products:[t.payload].concat(Object(X.a)(e.products))};case"REMOVE_FROM_FAVORITES":return{products:e.products.filter((function(e){return e.id!==t.payload}))};default:return e}}var Q=function(){var e=R("favorites",q),t=Object(o.a)(e,1)[0],c=Object(a.useReducer)(K,t),n=Object(o.a)(c,2),s={favoritesState:n[0],favoritesDispatch:n[1]};return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(M.Provider,{value:s,children:Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{path:"/",element:Object(u.jsx)(E,{})}),Object(u.jsx)(l.a,{path:"/favorites",element:Object(u.jsx)(z,{})}),Object(u.jsx)(l.a,{path:"/category/:categoryId",element:Object(u.jsx)(B,{})}),Object(u.jsx)(l.a,{path:"/news/:newsId",element:Object(u.jsx)(G,{})}),Object(u.jsx)(l.a,{path:"*",element:Object(u.jsx)(h,{})})]})})})};c(50),c(51);i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(r.a,{children:Object(u.jsx)(Q,{})})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.5c1ed802.chunk.js.map